(this.webpackJsonpoms=this.webpackJsonpoms||[]).push([[13],{451:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(57),a=function(e){return r.a.get("/customer",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},c=function(e){return r.a.post("/customer",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},o=function(e){return r.a.put("/customer",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},u=function(e){return r.a.delete("/customer",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))}},482:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(57),a=function(e){return r.a.get("/wechat",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},c=function(e){return r.a.post("/wechat",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},o=function(e){return r.a.put("/wechat",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},u=function(e){return r.a.put("/wechat/setUser",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},s=function(e){return r.a.delete("/wechat",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))}},653:function(e,t,n){},665:function(e,t,n){"use strict";n.r(t);var r=n(36),a=n.n(r),c=n(154),o=n(63),u=n(82),s=n(0),l=n.n(s),i=n(34),m=n(525),f=n(419),d=n(216),p=n(420),h=n(81),b=n(27),E=n(657),g=n(421),v=n(483),w=n(43),x=n(451),O=n(482),j=(n(653),m.a.Option);t.default=Object(i.g)((function(e){var t=l.a.createRef(),n=e.location,r=e.history,i=Object(s.useState)(""),k=Object(u.a)(i,2),I=k[0],y=k[1],q=Object(s.useState)([]),P=Object(u.a)(q,2),_=P[0],C=P[1],N=function(){t.current.resetFields(),y("")},R=function(){N(),r.goBack()},F=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(O.d)();case 2:t=e.sent,n=t.code,c=t.data,1===n&&c.length?C(c):(d.a.warning("\u5f53\u524d\u8d26\u53f7\u8fd8\u6ca1\u6709\u5206\u914d\u5fae\u4fe1\u53f7\uff0c\u8bf7\u5148\u8054\u7cfb\u7ba1\u7406\u5458\u4e3a\u60a8\u5206\u914d\u5fae\u4fe1\u53f7"),r.goBack());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=n.query,a=n.pathname;e?(y(e._id),t.current.setFieldsValue(Object(c.a)({},e))):a.indexOf("/edit")>-1&&r.push("./add"),F()}),[]),l.a.createElement("div",{className:"add-order"},l.a.createElement("div",{className:"container"},l.a.createElement(p.a,Object.assign({},{labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:10},offset:1}},{ref:t,onFinish:function(e){e.userWxname=_.filter((function(t){return t._id===e.userWxId}))[0].remarks,f.a.confirm({title:I?"\u786e\u5b9a\u4fdd\u5b58\u4fee\u6539\u5417\uff1f":"\u786e\u5b9a\u6dfb\u52a0\u4e00\u4e2a\u5ba2\u6237\u5417\uff1f",onOk:function(){var t=Object(o.a)(a.a.mark((function t(){var n,r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I){t.next=6;break}return t.next=3,Object(x.a)(Object(c.a)({},e));case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,Object(x.c)(Object(c.a)({},e,{id:I}));case 8:t.t0=t.sent;case 9:n=t.t0,r=n.code,o=n.msg,1===r?(d.a.success(o),R()):d.a.error(o);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})},scrollToFirstError:!0,initialValues:{sex:1}}),l.a.createElement(h.a,{gutter:24},l.a.createElement(b.a,{span:24},l.a.createElement(E.a,{bordered:!0,layout:"vertical",column:2},l.a.createElement(E.a.Item,{label:l.a.createElement("h2",null,"\u5ba2\u6237\u57fa\u672c\u4fe1\u606f")},l.a.createElement(p.a.Item,{name:"d_contact",label:"\u5ba2\u6237\u59d3\u540d",rules:[{required:!0,message:"\u5ba2\u6237\u59d3\u540d\u4e0d\u80fd\u4e3a\u7a7a"}]},l.a.createElement(g.a,{placeholder:"\u8bf7\u8f93\u5165\u5ba2\u6237\u59d3\u540d"})),l.a.createElement(p.a.Item,{name:"wxId",label:"\u5fae\u4fe1id",rules:[{required:!0,message:"\u5fae\u4fe1id\u4e0d\u80fd\u4e3a\u7a7a"}]},l.a.createElement(g.a,{placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1id"})),l.a.createElement(p.a.Item,{name:"sex",label:"\u6027\u522b",required:!0},l.a.createElement(v.a.Group,null,l.a.createElement(v.a,{value:1},"\u7537"),l.a.createElement(v.a,{value:2},"\u5973"))),l.a.createElement(p.a.Item,{name:"wxName",label:"\u5fae\u4fe1\u6635\u79f0",rules:[{required:!0,message:"\u5fae\u4fe1\u6635\u79f0\u4e0d\u80fd\u4e3a\u7a7a"}]},l.a.createElement(g.a,{placeholder:"\u8bf7\u8f93\u5165\u5fae\u4fe1\u6635\u79f0"})),l.a.createElement(p.a.Item,{name:"userWxId",label:"\u6240\u5c5e\u5fae\u4fe1",wrapperCol:{xs:{span:24},sm:{span:6},offset:1},rules:[{required:!0,message:"\u8be5\u9879\u4e3a\u5fc5\u9009\u9879"}]},l.a.createElement(m.a,{placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5fae\u4fe1"},_.map((function(e){return l.a.createElement(j,{key:e._id,value:e._id},e.remarks)})))),l.a.createElement(p.a.Item,{name:"d_tel",label:"\u5ba2\u6237\u8054\u7cfb\u7535\u8bdd",rules:[{required:!0,message:"\u5ba2\u6237\u8054\u7cfb\u7535\u8bdd\u4e0d\u80fd\u4e3a\u7a7a"}]},l.a.createElement(g.a,{placeholder:"\u8bf7\u8f93\u5165\u5ba2\u6237\u8054\u7cfb\u7535\u8bdd"})),l.a.createElement(p.a.Item,{name:"d_address",label:"\u5ba2\u6237\u8be6\u7ec6\u5730\u5740",rules:[{required:!0,message:"\u5ba2\u6237\u8be6\u7ec6\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a"}]},l.a.createElement(g.a.TextArea,{autoSize:{minRows:3,maxRows:5},placeholder:"\u8bf7\u8f93\u5165\u5ba2\u6237\u8be6\u7ec6\u5730\u5740"})),l.a.createElement(p.a.Item,{name:"remark",label:"\u5907\u6ce8",rules:[{required:!0,message:"\u5907\u6ce8\u4e0d\u80fd\u4e3a\u7a7a"}]},l.a.createElement(g.a.TextArea,{autoSize:{minRows:3,maxRows:5},placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8"})))))),l.a.createElement(p.a.Item,{className:"btn-wrapper",colon:!1,wrapperCol:{offset:8}},l.a.createElement(w.a,{htmlType:"submit",type:"primary"},I?"\u4fdd\u5b58\u4fee\u6539":"\u6dfb\u52a0\u5ba2\u6237"),!I&&l.a.createElement(w.a,{className:"ml20",onClick:N,type:"ghost"},"\u6e05\u7a7a"),l.a.createElement(w.a,{className:"ml20",onClick:R,danger:!0},"\u53d6\u6d88")))))}))}}]);