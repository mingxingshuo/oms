(this.webpackJsonpoms=this.webpackJsonpoms||[]).push([[10],{466:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(74),a=function(e){return r.a.get("/order/find",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},c=function(e){return r.a.post("/order/create",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},o=function(e){return r.a.get("/order/confirm",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},i=function(e){return r.a.post("/order/OrderState",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))},u=function(e){return r.a.get("/order/OrderSearch",e).then((function(e){return Promise.resolve(e)})).catch((function(e){return console.log(e)}))}},467:function(e,t,n){"use strict";var r=n(149);function a(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=n(0),o=n.n(c),i=n(623);t.a=function(e){var t=e.total,n=e.changePage,u=a(e,["total","changePage"]),s=Object(c.useState)(1),d=Object(r.a)(s,2),l=d[0],f=d[1],m={current:l,total:t,showTotal:function(e){return"\u5171 ".concat(e," \u6761")},showQuickJumper:!0,position:["bottomCenter"],onChange:function(e){f(e),n(e)}};return o.a.createElement(i.a,Object.assign({pagination:m},u))}},622:function(e,t,n){"use strict";n.r(t);var r=n(38),a=n.n(r),c=n(61),o=n(21),i=n(22),u=n(24),s=n(23),d=n(0),l=n.n(d),f=n(508),m=n(210),p=n(413),g=n(46),h=n(414),y=n(626),v=n(507),O=n.n(v),b=n(467),k=n(466),j=f.a.Option,x=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(e=t.call.apply(t,[this].concat(i))).state={orderList:[],orderid:"",search_type:1,total:0},e.queryOrderStatus=function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,o,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.e)({id:n,remarks:r});case 2:c=t.sent,o=c.code,i=c.msg,1===o?(m.a.success(i),e.getOrderList()):m.a.error(i);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.findByCondition=Object(c.a)(a.a.mark((function t(){var n,r,c,o,i,u,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state,r=n.orderid,c=n.search_type,t.next=3,Object(k.c)({orderid:r,search_type:c});case 3:o=t.sent,i=o.code,u=o.msg,s=o.data,1===i?(m.a.success(u),e.setState({orderList:s,total:1})):m.a.error(u);case 8:case"end":return t.stop()}}),t)}))),e.getOrderList=Object(c.a)(a.a.mark((function t(){var n,r,c,o,i,u=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:1,t.next=3,Object(k.d)({page:n});case 3:r=t.sent,c=r.code,o=r.data,i=r.count,1===c&&e.setState({orderList:o,total:i});case 8:case"end":return t.stop()}}),t)}))),e.changePage=function(t){e.getOrderList(t)},e.changeOrderState=function(e){p.a.confirm({title:"\u60a8\u786e\u8ba4\u8981\u4fee\u6539\u8ba2\u5355\u72b6\u6001\u5417\uff1f",style:{top:"40%"},onOk:function(){var t=Object(c.a)(a.a.mark((function t(){var n,r,c,o,i,u,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.orderid,r=e.mailno,c=e.dealtype,o=2===c?1:2,t.next=4,Object(k.a)({orderid:n,mailno:r,dealtype:o});case 4:i=t.sent,u=i.code,s=i.msg,1===u?m.a.success("\u72b6\u6001\u4fee\u6539\u6210\u529f"):m.a.error(s);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onCancel:function(){m.a.warning("\u5df2\u53d6\u6d88\u64cd\u4f5c")}})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.getOrderList()}},{key:"render",value:function(){var e=this,t=this.state,n=t.orderList,r=t.orderid,a=t.search_type,c=t.total,o=[{key:"orderid",dataIndex:"orderid",title:"\u8ba2\u5355\u53f7",align:"center"},{key:"mailno",dataIndex:"mailno",title:"\u987a\u4e30\u8fd0\u5355\u53f7",align:"center"},{key:"j_tel",dataIndex:"j_tel",title:"\u5bc4\u4ef6\u4eba\u8054\u7cfb\u7535\u8bdd",align:"center"},{key:"d_company",dataIndex:"d_company",title:"\u5230\u4ef6\u65b9\u516c\u53f8\u540d\u79f0",align:"center"},{key:"d_contact",dataIndex:"d_contact",title:"\u5230\u4ef6\u65b9\u8054\u7cfb\u4eba",align:"center"},{key:"d_tel",dataIndex:"d_tel",title:"\u5230\u4ef6\u65b9\u8054\u7cfb\u7535\u8bdd",align:"center"},{key:"j_address",dataIndex:"j_address",title:"\u5bc4\u4ef6\u4eba\u8be6\u7ec6\u5730\u5740",align:"center"},{key:"d_address",dataIndex:"d_address",title:"\u5230\u4ef6\u65b9\u8be6\u7ec6\u5730\u5740",align:"center"},{key:"dealtype",dataIndex:"dealtype",title:"\u8ba2\u5355\u72b6\u6001",align:"center",render:function(e){return l.a.createElement(g.a,{style:{cursor:"auto"},type:"link",danger:2===e},0===e?"\u9ed8\u8ba4":1===e?"\u5df2\u786e\u8ba4":"\u5df2\u53d6\u6d88")}},{key:"action",dataIndex:"action",title:"\u64cd\u4f5c",align:"center",render:function(t,n){return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{type:"link",onClick:function(){return e.changeOrderState(n)}},"\u4fee\u6539\u8ba2\u5355\u72b6\u6001"))}}],i=l.a.createElement(f.a,{defaultValue:1,value:a,onChange:function(t){return e.setState({search_type:t})}},l.a.createElement(j,{value:1},"\u9ed8\u8ba4"),l.a.createElement(j,{value:2},"\u9000\u8d27\u5355"));return l.a.createElement("div",null,l.a.createElement("div",{className:"container"},l.a.createElement(h.a,{value:r,style:{width:300,marginBottom:20},placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u53f7",onChange:function(t){return e.setState({orderid:t.target.value})},addonAfter:i}),l.a.createElement(g.a,{type:"primary",onClick:this.findByCondition},"\u641c\u7d22"),l.a.createElement(b.a,{rowKey:function(e){return e._id},dataSource:n,columns:o,total:c,expandable:{expandedRowRender:function(e){return l.a.createElement(y.a,{bordered:!0},l.a.createElement(y.a.Item,{label:"\u4e0b\u5355\u65f6\u95f4"},O()(e.createAt).format("YYYY-MM-DD HH:mm:ss")),l.a.createElement(y.a.Item,{label:"\u6700\u8fd1\u4e00\u6b21\u4fee\u6539"},O()(e.updateAt).format("YYYY-MM-DD HH:mm:ss")),l.a.createElement(y.a.Item,{label:"\u4e0a\u95e8\u53d6\u4ef6\u65f6\u95f4"},O()(e.sendstarttime).format("YYYY-MM-DD HH:mm:ss")))}},changePage:this.changePage})))}}]),n}(d.Component);t.default=x}}]);